--- freeradius-1.1.3/src/modules/rlm_ldap/rlm_ldap.c.ldap	2006-05-09 01:45:02.000000000 +0200
+++ freeradius-1.1.3/src/modules/rlm_ldap/rlm_ldap.c	2006-11-13 15:51:48.000000000 +0100
@@ -1013,7 +1013,7 @@
 		radlog(L_ERR, "rlm_ldap: Add ldap connections are in use");
 		return 1;
 	}
-	if ((res = perform_search(inst, conn, vp_user_dn->strvalue, LDAP_SCOPE_BASE,
+	if ((res = perform_search(inst, conn, (char *)vp_user_dn->strvalue, LDAP_SCOPE_BASE,
 					filter, group_attrs,&result)) != RLM_MODULE_OK){
 		DEBUG("rlm_ldap::ldap_groupcmp: Search returned error");
 		ldap_release_conn(conn_id, inst->conns);
@@ -1327,7 +1327,7 @@
 
 		strNcpy(filter,inst->base_filter,sizeof(filter));
 		if (user_profile)
-			profile = user_profile->strvalue;
+			profile = (char *)user_profile->strvalue;
 		if (profile && strlen(profile)){
 			if ((res = perform_search(instance, conn,
 				profile, LDAP_SCOPE_BASE,
@@ -1430,7 +1430,7 @@
 								return RLM_MODULE_FAIL;
 							}
 							passwd_len = strlen(passwd_val);
-							strncpy(passwd_item->strvalue,passwd_val,MAX_STRING_LEN - 1);
+							strncpy((char *)passwd_item->strvalue,passwd_val,MAX_STRING_LEN - 1);
 							passwd_item->length = (passwd_len > (MAX_STRING_LEN - 1)) ? (MAX_STRING_LEN - 1) : passwd_len;
 							pairadd(&request->config_items,passwd_item);
 							DEBUG("rlm_ldap: Added password %s in check items",passwd_item->strvalue);
@@ -1748,16 +1748,16 @@
 		ldap_msgfree(result);
 	}
 
-	user_dn = vp_user_dn->strvalue;
+	user_dn = (char *)vp_user_dn->strvalue;
 
 	DEBUG("rlm_ldap: user DN: %s", user_dn);
 
 #ifndef NOVELL
-	ld_user = ldap_connect(instance, user_dn, request->password->strvalue,
+	ld_user = ldap_connect(instance, user_dn, (char *)request->password->strvalue,
 			       1, &res, NULL);
 #else
 
-	ld_user = ldap_connect(instance, user_dn, request->password->strvalue,
+	ld_user = ldap_connect(instance, user_dn, (char *)request->password->strvalue,
 			1, &res, &err);
 
 	if(err != NULL){
@@ -2023,7 +2023,7 @@
 
 #ifdef HAVE_LDAP_INT_TLS_CONFIG
 
-	if ( ldap_int_tls_config( NULL, LDAP_OPT_X_TLS_REQUIRE_CERT,
+	if ( ldap_set_option( NULL, LDAP_OPT_X_TLS_REQUIRE_CERT,
 							  (inst->tls_require_cert) )
 		 != LDAP_OPT_SUCCESS) {
 		radlog(L_ERR, "rlm_ldap: could not set "
@@ -2430,7 +2430,7 @@
 				}
 				if (do_xlat) {
 					newpair->flags.do_xlat = 1;
-					strNcpy(newpair->strvalue, buf,
+					strNcpy((char *)newpair->strvalue, buf,
 						sizeof(newpair->strvalue));
 					newpair->length = 0;
 				}
